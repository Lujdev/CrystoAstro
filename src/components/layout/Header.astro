---
import { Image } from "astro:assets";
import logoImg from "../../assets/logo.png";
import { ThemeToggle } from "./ThemeToggle";

const pathname = Astro.url.pathname;
---

<nav
  class="w-full bg-white/80 dark:bg-slate-900/80 backdrop-blur-md border-b border-slate-200/50 dark:border-slate-800/50 sticky top-0 z-40 transition-colors duration-500"
>
  <div class="w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between h-16 items-center">
      <!-- Logo Section -->
      <div class="flex items-center gap-3">
        <div class="relative group">
          <div
            class="absolute -inset-1 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-full blur opacity-25 group-hover:opacity-50 transition duration-1000 group-hover:duration-200"
          >
          </div>
          <Image
            src={logoImg}
            alt="CrystoDolar Logo"
            width={36}
            height={36}
            loading="eager"
            format="webp"
            class="relative h-9 w-9 rounded-full ring-2 ring-white dark:ring-slate-800"
          />
        </div>
        <span
          class="text-xl font-black tracking-tight text-slate-900 dark:text-white"
        >
          Crysto<span
            class="bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-400 dark:to-indigo-400"
            >DÃ³lar</span
          >
        </span>
      </div>

      <!-- Navigation Section -->
      <div class="flex items-center gap-6">
        <a
          href="/"
          class:list={[
            "group relative flex items-center gap-2 px-5 py-2.5 text-sm font-black uppercase tracking-widest transition-all duration-300",
            pathname === "/"
              ? "text-blue-600 dark:text-blue-400"
              : "text-slate-500 hover:text-slate-900 dark:text-slate-400 dark:hover:text-white",
          ]}
        >
          {
            pathname === "/" && (
              <div class="absolute inset-0 bg-blue-50 dark:bg-blue-900/20 rounded-xl border border-blue-100 dark:border-blue-800/50 -z-10 animate-in fade-in zoom-in-95 duration-500" />
            )
          }
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class:list={[
              "w-4 h-4 transition-transform duration-300 group-hover:-translate-y-0.5",
              pathname === "/"
                ? "text-blue-600 dark:text-blue-400"
                : "text-slate-400 dark:text-slate-500",
            ]}
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2.5"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
            <polyline points="9 22 9 12 15 12 15 22"></polyline>
          </svg>
          <span class="relative">Inicio</span>
        </a>

        <div class="w-px h-6 bg-slate-200 dark:bg-slate-800 hidden sm:block">
        </div>

        <ThemeToggle client:load />
      </div>
    </div>
  </div>
</nav>
