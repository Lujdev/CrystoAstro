---
import { HomeContainer } from "../components/rates/HomeContainer";
import BaseLayout from "../layouts/BaseLayout.astro";
import { fetchRates } from "../lib/api";

import type { Rate } from "../types/rates";

let rates: Rate[] = [];
try {
  rates = await fetchRates();
} catch (error) {
  console.error("Error fetching rates:", error);
}
---

<BaseLayout
  title="CrystoDólar - Cotización del Dólar en Venezuela"
  description="Consulta el precio del dólar en Venezuela hoy. Tasa BCV, Binance P2P y casas de cambio. Calculadora de conversión bolívares a dólares actualizada."
>
  <main class="w-full py-4">
    <HomeContainer rates={rates} client:visible />
  </main>
</BaseLayout>
